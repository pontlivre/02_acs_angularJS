# 第１回：データバインディング

## はじめに

最近のWebアプリケーションではリッチなUIが求められており、 PCだけでなくスマフォやタブレット対応も必要になり開発は複雑化しています。

また、端末のパフォーマンス向上やブラウザ機能の向上によりJavaScriptで実現できることも大きく広がっています。

そのため、 複雑で大規模なクライアントサイドを開発するためにJavaScriptにもフレームワークが必要になってきています。

そこで2014年現在、クライアントサイドの３大フレームワークの１つである「AngularJS」について、私自身の学習も兼ねて一緒に学んでいけたらなと思います。

ちなみに３大MVCフレームワークは、AngularJS, Backbone.js, Knockout.js です。

## jQueryは？

jQueryはフレームワークというよりは、DOM操作を容易にするためのライブラリです。
jQueryを使用する際には以下の２ステップを踏む必要があります。

1. 動的に書き変えたい部分にCSSを適用する（#id, .class）
2. JavaScriptでCSSセレクタを使って、書き換えた部分を選択しDOMを書き換える。

```js   
$('#list').append('&lt;li>Hello&lt;/li>');
```   

これらのステップにより簡単に動的にコンテンツを書き換えることが出来ますが、以下のデメリットが存在します。

1. デザイン以外のCSSを適用しなければならなくなり、CSSが増えて何がなんだかわからなくなる。
2. デザインを変更すると、JavaScript部分に影響するかもしれない。
   上記の例のように #list だけであれば問題ありませんが 対象要素の祖先とか孫とかを検索してたりするとアウトです。
3. JavaScriptのロジック部分に、DOM操作のコードが含まれるため単体テストが出来なかったり、
   コードの再利用が難しい。

## AngularJS（アンギュラージェイエス）について

AngularJSの特徴として、以下をあげます。

* Google社が開発したJavaScriptのMVCフレームワーク
* 一番の特徴は「双方向データバインディング」
* フルスタック
* 学習コストが高い

### 「双方向データバインディング」がかなりヤバイ！

これがかなりヤバすぎて、一目惚れしてしましました。
双方向とは、JavaScript→UI、UI→JavaScriptを指します。
つまりは

* JavaScriptのモデル（変数）への変更がUIに自動的に反映される
* UIの入力内容がJavaScriptのモデル（変数）に自動的に反映される

です。後でサンプルを紹介します。

### フルスタックである

これはクライアントサイドで必要となる機能がひと通り揃っていることを
指します。実際、双方向データバインディングで処理されているDOMの
書き換え部分では、簡易版のjQuery（jqLite）も含まれています。

`jqLiteでは、最小限のjQueryのメソッドをバンドルしたものです。
AngularJSの前に本物のjQueryが読み込まれていると、jqLiteではなくjQueryが使われるようになります。`

### 学習コストが高い

良いこと尽くしのAngularJSですが、独自概念が多く存在するため
学習コストが高いですが、費用対効果は悪くないと思います。

実際に、私は「かん助」の既存画面の一部のUIと「eGov」プロジェクトの
IT用API実行ツールの作成に利用しましたが、ある程度基本を抑えれば 実業務でフルでも部分的でも導入可能と判断しました。

※独自概念とはスコープ、モジュール、サービス、フィルター、ディレクティブなど
